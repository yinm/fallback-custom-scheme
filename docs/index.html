<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>アプリ起動サンプル</title>
  </head>
  <body>
    <script>
      // アプリを開く。アプリがインストールされていなければサイトを開く。
      function launchApp() {
        const customUrlScheme = "twitter://user?screen_name=TwitterJP";
        // var IOS_STORE = "itms-apps://itunes.apple.com/app/id333903271";
        const androidStoreUrl =
          "https://play.google.com/store/apps/details?id=com.twitter.android";

        var userAgent = navigator.userAgent.toLowerCase();
        // iPhone端末ならアプリを開くかApp Storeを開く。
        if (userAgent.search(/iphone|ipad|ipod/) > -1) {
          location.href = customUrlScheme;
          // setTimeout(function () {
          //   location.href = IOS_STORE;
          // }, 500);
        }
        // Android端末ならアプリを開くかGoogle Playを開く。
        else if (userAgent.search(/android/) > -1) {
          location.href = customUrlScheme;
          setTimeout(function () {
            location.href = androidStoreUrl;
          }, 500);
        }
      }

      // ページ読み込み時に実行
      window.onload = function () {
        launchApp();
      };
    </script>

    <!-- ref: https://qiita.com/tarusawa_ken/items/9d9a8b7b6ca8b6984eb9 -->
  </body>
</html>
